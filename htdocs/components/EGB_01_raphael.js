/*
 * Raphael 1.5.2 - JavaScript Vector Library
 *
 * Copyright (c) 2010 Dmitry Baranovskiy (http://raphaeljs.com)
 * Licensed under the MIT (http://raphaeljs.com/license.html) license.
 */
(function(){function l(){if(l.is(arguments[0],T)){for(var a=arguments[0],b=za[K](l,a.splice(0,3+l.is(a[0],N))),c=b.set(),e=0,f=a[q];e<f;e++){var d=a[e]||{};mb[u](d.type)&&c[D](b[d.type]().attr(d))}return c}return za[K](l,arguments)}function ma(){for(var a=[],b=0;b<32;b++)a[b]=(~~(y.random()*16))[$](16);a[12]=4;a[16]=(a[16]&3|8)[$](16);return"r-"+a[O]("")}function aa(a,b,c){function e(){var f=Array[B].slice.call(arguments,0),d=f[O]("\u25ba"),g=e.cache=e.cache||{},h=e.count=e.count||[];if(g[u](d))return c?c(g[d]):g[d];h[q]>=1E3&&delete g[h.shift()];h[D](d);g[d]=a[K](b,f);return c?c(g[d]):g[d]}return e}function Oa(){return this.x+L+this.y}function Pa(a){return function(b,c,e,f){var d={back:a};l.is(e,"function")?(f=e):(d.rot=e);b&&b.constructor==C&&(b=b.attrs.path);b&&(d.along=b);return this.animate(d,c,f)}}function nb(a,b,c,e,f,d){function g(r){return((m*r+k)*r+i)*r}function h(r,w){r=j(r,w);return((p*r+o)*r+n)*r}function j(r,w){var s,F,H,G;H=r;for(F=0;F<8;F++){G=g(H)-r;if(M(G)<w)return H;s=(3*m*H+2*k)*H+i;if(M(s)<1.0E-6)break;H-=G/s}s=0;F=1;H=r;if(H<s)return s;if(H>F)return F;for(;s<F;){G=g(H);if(M(G-r)<w)return H;if(r>G)s=H;else F=H;H=(F-s)/2+s}return H}var i=3*b,k=3*(e-b)-i,m=1-i-k,n=3*c,o=3*(f-c)-n,p=1-n-o;return h(a,1/(200*d))}l.version="1.5.2";var V=/[, ]+/,mb={circle:1,rect:1,path:1,ellipse:1,text:1,image:1},ob=/\{(\d+)\}/g,B="prototype",u="hasOwnProperty",v=document,ca=window,Aa={was:Object[B][u].call(ca,"Raphael"),is:ca.Raphael},na=function(){this.customAttributes={}},I,K="apply",Ba="createTouch"in v,L=" ",z=String,ga="click dblclick mousedown mousemove mouseout mouseover mouseup touchstart touchmove touchend orientationchange touchcancel gesturestart gesturechange gestureend".split(L),Ca={mousedown:"touchstart",mousemove:"touchmove",mouseup:"touchend"},O="join",q="length",ea=z[B].toLowerCase,y=Math,S=y.max,Z=y.min,M=y.abs,E=y.pow,Q=y.PI,N="number",T="array",$="toString",pb=Object[B][$],D="push",Qa=/^url\(['"]?([^\)]+?)['"]?\)$/i,qb=/^\s*((#[a-f\d]{6})|(#[a-f\d]{3})|rgba?\(\s*([\d\.]+%?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\)|hsba?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\)|hsla?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\))\s*$/i,rb={NaN:1,Infinity:1,"-Infinity":1},sb=/^(?:cubic-)?bezier\(([^,]+),([^,]+),([^,]+),([^\)]+)\)/,P=y.round,x=parseFloat,ba=parseInt,oa=z[B].toUpperCase,pa={blur:0,"clip-rect":"0 0 1e9 1e9",cursor:"default",cx:0,cy:0,fill:"#fff","fill-opacity":1,font:'10px "Arial"',"font-family":'"Arial"',"font-size":"10","font-style":"normal","font-weight":400,gradient:0,height:0,href:"http://raphaeljs.com/",opacity:1,path:"M0,0",r:0,rotation:0,rx:0,ry:0,scale:"1 1",src:"",stroke:"#000","stroke-dasharray":"","stroke-linecap":"butt","stroke-linejoin":"butt","stroke-miterlimit":0,"stroke-opacity":1,"stroke-width":1,target:"_blank","text-anchor":"middle",title:"Raphael",translation:"0 0",width:0,x:0,y:0},Da={along:"along",blur:N,"clip-rect":"csv",cx:N,cy:N,fill:"colour","fill-opacity":N,"font-size":N,height:N,opacity:N,path:"path",r:N,rotation:"csv",rx:N,ry:N,scale:"csv",stroke:"colour","stroke-opacity":N,"stroke-width":N,translation:"csv",width:N,x:N,y:N},tb=/^(from|to|\d+%?)$/,Ea=/\s*,\s*/,ub={hs:1,rg:1},vb=/,?([achlmqrstvxz]),?/gi,wb=/([achlmqstvz])[\s,]*((-?\d*\.?\d*(?:e[-+]?\d+)?\s*,?\s*)+)/ig,xb=/(-?\d*\.?\d*(?:e[-+]?\d+)?)\s*,?\s*/ig,Ra=/^r(?:\(([^,]+?)\s*,\s*([^\)]+?)\))?/,yb=function(a,b){return a.key-b.key};l.type=ca.SVGAngle||v.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")?"SVG":"VML";if(l.type=="VML"){var W=v.createElement("div");W.innerHTML='<v:shape adj="1"/>';W=W.firstChild;W.style.behavior="url(#default#VML)";if(!(W&&typeof W.adj=="object"))return l.type=null;W=null}l.svg=!(l.vml=l.type=="VML");na[B]=l[B];I=na[B];l._id=0;l._oid=0;l.fn={};l.is=function(a,b){b=ea.call(b);if(b=="finite")return!rb[u](+a);return b=="null"&&a===null||b==typeof a||b=="object"&&a===Object(a)||b=="array"&&Array.isArray&&Array.isArray(a)||pb.call(a).slice(8,-1).toLowerCase()==b};l.angle=function(a,b,c,e,f,d){if(f==null){a=a-c;b=b-e;if(!a&&!b)return 0;return((a<0)*180+y.atan(-b/-a)*180/Q+360)%360}else return l.angle(a,b,f,d)-l.angle(c,e,f,d)};l.rad=function(a){return a%360*Q/180};l.deg=function(a){return a*180/Q%360};l.snapTo=function(a,b,c){c=l.is(c,"finite")?c:10;if(l.is(a,T))for(var e=a.length;e--;){if(M(a[e]-b)<=c)return a[e]}else{a=+a;e=b%a;if(e<c)return b-e;if(e>a-c)return b-e+a}return b};l.setWindow=function(a){ca=a;v=ca.document};var qa=function(a){if(l.vml){var b=/^\s+|\s+$/g,c;try{var e=new ActiveXObject("htmlfile");e.write("<body>");e.close();c=e.body}catch(f){c=createPopup().document.body}var d=c.createTextRange();qa=aa(function(h){try{c.style.color=z(h).replace(b,"");var j=d.queryCommandValue("ForeColor");j=(j&255)<<16|j&65280|(j&16711680)>>>16;return"#"+("000000"+j[$](16)).slice(-6)}catch(i){return"none"}})}else{var g=v.createElement("i");g.title="Rapha\u00ebl Colour Picker";g.style.display="none";v.body.appendChild(g);qa=aa(function(h){g.style.color=h;return v.defaultView.getComputedStyle(g,"").getPropertyValue("color")})}return qa(a)},Sa=function(){return"hsb("+[this.h,this.s,this.b]+")"},zb=function(){return"hsl("+[this.h,this.s,this.l]+")"},Ab=function(){return this.hex};l.hsb2rgb=function(a,b,c,e){if(l.is(a,"object")&&"h"in a&&"s"in a&&"b"in a){c=a.b;b=a.s;a=a.h;e=a.o}return l.hsl2rgb(a,b,c/2,e)};l.hsl2rgb=function(a,b,c,e){if(l.is(a,"object")&&"h"in a&&"s"in a&&"l"in a){c=a.l;b=a.s;a=a.h}if(a>1||b>1||c>1){a/=360;b/=100;c/=100}var f={},d=["r","g","b"],g;if(b){b=c<0.5?c*(1+b):c+b-c*b;c=2*c-b;for(var h=0;h<3;h++){g=a+1/3*-(h-1);g<0&&g++;g>1&&g--;f[d[h]]=g*6<1?c+(b-c)*6*g:g*2<1?b:g*3<2?c+(b-c)*(2/3-g)*6:c}}else f={r:c,g:c,b:c};f.r*=255;f.g*=255;f.b*=255;f.hex="#"+(16777216|f.b|f.g<<8|f.r<<16).toString(16).slice(1);l.is(e,"finite")&&(f.opacity=e);f.toString=Ab;return f};l.rgb2hsb=function(a,b,c){if(b==null&&l.is(a,"object")&&"r"in a&&"g"in a&&"b"in a){c=a.b;b=a.g;a=a.r}if(b==null&&l.is(a,"string")){var e=l.getRGB(a);a=e.r;b=e.g;c=e.b}if(a>1||b>1||c>1){a/=255;b/=255;c/=255}e=S(a,b,c);var f=Z(a,b,c);if(f==e)return{h:0,s:0,b:e,toString:Sa};else{var d=e-f;f=d/e;a=a==e?(b-c)/d:b==e?2+(c-a)/d:4+(a-b)/d;a/=6;a<0&&a++;a>1&&a--}return{h:a,s:f,b:e,toString:Sa}};l.rgb2hsl=function(a,b,c){if(b==null&&l.is(a,"object")&&"r"in a&&"g"in a&&"b"in a){c=a.b;b=a.g;a=a.r}if(b==null&&l.is(a,"string")){var e=l.getRGB(a);a=e.r;b=e.g;c=e.b}if(a>1||b>1||c>1){a/=255;b/=255;c/=255}var f=S(a,b,c),d=Z(a,b,c);e=(f+d)/2;if(d==f)a={h:0,s:0,l:e};else{var g=f-d;d=e<0.5?g/(f+d):g/(2-f-d);a=a==f?(b-c)/g:b==f?2+(c-a)/g:4+(a-b)/g;a/=6;a<0&&a++;a>1&&a--;a={h:a,s:d,l:e}}a.toString=zb;return a};l._path2string=function(){return this.join(",").replace(vb,"$1")};l.getRGB=aa(function(a){if(!a||(a=z(a)).indexOf("-")+1)return{r:-1,g:-1,b:-1,hex:"none",error:1};if(a=="none")return{r:-1,g:-1,b:-1,hex:"none"};!(ub[u](a.toLowerCase().substring(0,2))||a.charAt()=="#")&&(a=qa(a));var b,c,e,f,d;if(a=a.match(qb)){if(a[2]){e=ba(a[2].substring(5),16);c=ba(a[2].substring(3,5),16);b=ba(a[2].substring(1,3),16)}if(a[3]){e=ba((d=a[3].charAt(3))+d,16);c=ba((d=a[3].charAt(2))+d,16);b=ba((d=a[3].charAt(1))+d,16)}if(a[4]){d=a[4].split(Ea);b=x(d[0]);d[0].slice(-1)=="%"&&(b*=2.55);c=x(d[1]);d[1].slice(-1)=="%"&&(c*=2.55);e=x(d[2]);d[2].slice(-1)=="%"&&(e*=2.55);a[1].toLowerCase().slice(0,4)=="rgba"&&(f=x(d[3]));d[3]&&d[3].slice(-1)=="%"&&(f/=100)}if(a[5]){d=a[5].split(Ea);b=x(d[0]);d[0].slice(-1)=="%"&&(b*=2.55);c=x(d[1]);d[1].slice(-1)=="%"&&(c*=2.55);e=x(d[2]);d[2].slice(-1)=="%"&&(e*=2.55);(d[0].slice(-3)=="deg"||d[0].slice(-1)=="\u00b0")&&(b/=360);a[1].toLowerCase().slice(0,4)=="hsba"&&(f=x(d[3]));d[3]&&d[3].slice(-1)=="%"&&(f/=100);return l.hsb2rgb(b,c,e,f)}if(a[6]){d=a[6].split(Ea);b=x(d[0]);d[0].slice(-1)=="%"&&(b*=2.55);c=x(d[1]);d[1].slice(-1)=="%"&&(c*=2.55);e=x(d[2]);d[2].slice(-1)=="%"&&(e*=2.55);(d[0].slice(-3)=="deg"||d[0].slice(-1)=="\u00b0")&&(b/=360);a[1].toLowerCase().slice(0,4)=="hsla"&&(f=x(d[3]));d[3]&&d[3].slice(-1)=="%"&&(f/=100);return l.hsl2rgb(b,c,e,f)}a={r:b,g:c,b:e};a.hex="#"+(16777216|e|c<<8|b<<16).toString(16).slice(1);l.is(f,"finite")&&(a.opacity=f);return a}return{r:-1,g:-1,b:-1,hex:"none",error:1}},l);l.getColor=function(a){a=this.getColor.start=this.getColor.start||{h:0,s:1,b:a||0.75};var b=this.hsb2rgb(a.h,a.s,a.b);a.h+=0.075;if(a.h>1){a.h=0;a.s-=0.2;a.s<=0&&(this.getColor.start={h:0,s:1,b:a.b})}return b.hex};l.getColor.reset=function(){delete this.start};l.parsePathString=aa(function(a){if(!a)return null;var b={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},c=[];if(l.is(a,T)&&l.is(a[0],T))c=ra(a);c[q]||z(a).replace(wb,function(e,f,d){var g=[];e=ea.call(f);d.replace(xb,function(h,j){j&&g[D](+j)});if(e=="m"&&g[q]>2){c[D]([f].concat(g.splice(0,2)));e="l";f=f=="m"?"l":"L"}for(;g[q]>=b[e];){c[D]([f].concat(g.splice(0,b[e])));if(!b[e])break}});c[$]=l._path2string;return c});l.findDotsAtSegment=function(a,b,c,e,f,d,g,h,j){var i=1-j,k=E(i,3)*a+E(i,2)*3*j*c+i*3*j*j*f+E(j,3)*g;i=E(i,3)*b+E(i,2)*3*j*e+i*3*j*j*d+E(j,3)*h;var m=a+2*j*(c-a)+j*j*(f-2*c+a),n=b+2*j*(e-b)+j*j*(d-2*e+b),o=c+2*j*(f-c)+j*j*(g-2*f+c),p=e+2*j*(d-e)+j*j*(h-2*d+e);a=(1-j)*a+j*c;b=(1-j)*b+j*e;f=(1-j)*f+j*g;d=(1-j)*d+j*h;h=90-y.atan((m-o)/(n-p))*180/Q;(m>o||n<p)&&(h+=180);return{x:k,y:i,m:{x:m,y:n},n:{x:o,y:p},start:{x:a,y:b},end:{x:f,y:d},alpha:h}};var ta=aa(function(a){if(!a)return{x:0,y:0,width:0,height:0};a=sa(a);for(var b=0,c=0,e=[],f=[],d,g=0,h=a[q];g<h;g++){d=a[g];if(d[0]=="M"){b=d[1];c=d[2];e[D](b);f[D](c)}else{b=Bb(b,c,d[1],d[2],d[3],d[4],d[5],d[6]);e=e.concat(b.min.x,b.max.x);f=f.concat(b.min.y,b.max.y);b=d[5];c=d[6]}}a=Z[K](0,e);d=Z[K](0,f);return{x:a,y:d,width:S[K](0,e)-a,height:S[K](0,f)-d}}),ra=function(a){var b=[];if(!l.is(a,T)||!l.is(a&&a[0],T))a=l.parsePathString(a);for(var c=0,e=a[q];c<e;c++){b[c]=[];for(var f=0,d=a[c][q];f<d;f++)b[c][f]=a[c][f]}b[$]=l._path2string;return b},Fa=aa(function(a){if(!l.is(a,T)||!l.is(a&&a[0],T))a=l.parsePathString(a);var b=[],c=0,e=0,f=0,d=0,g=0;if(a[0][0]=="M"){c=a[0][1];e=a[0][2];f=c;d=e;g++;b[D](["M",c,e])}g=g;for(var h=a[q];g<h;g++){var j=b[g]=[],i=a[g];if(i[0]!=ea.call(i[0])){j[0]=ea.call(i[0]);switch(j[0]){case "a":j[1]=i[1];j[2]=i[2];j[3]=i[3];j[4]=i[4];j[5]=i[5];j[6]=+(i[6]-c).toFixed(3);j[7]=+(i[7]-e).toFixed(3);break;case "v":j[1]=+(i[1]-e).toFixed(3);break;case "m":f=i[1];d=i[2];default:for(var k=1,m=i[q];k<m;k++)j[k]=+(i[k]-(k%2?c:e)).toFixed(3)}}else{b[g]=[];if(i[0]=="m"){f=i[1]+c;d=i[2]+e}j=0;for(k=i[q];j<k;j++)b[g][j]=i[j]}i=b[g][q];switch(b[g][0]){case "z":c=f;e=d;break;case "h":c+=+b[g][i-1];break;case "v":e+=+b[g][i-1];break;default:c+=+b[g][i-2];e+=+b[g][i-1]}}b[$]=l._path2string;return b},0,ra),ia=aa(function(a){if(!l.is(a,T)||!l.is(a&&a[0],T))a=l.parsePathString(a);var b=[],c=0,e=0,f=0,d=0,g=0;if(a[0][0]=="M"){c=+a[0][1];e=+a[0][2];f=c;d=e;g++;b[0]=["M",c,e]}g=g;for(var h=a[q];g<h;g++){var j=b[g]=[],i=a[g];if(i[0]!=oa.call(i[0])){j[0]=oa.call(i[0]);switch(j[0]){case "A":j[1]=i[1];j[2]=i[2];j[3]=i[3];j[4]=i[4];j[5]=i[5];j[6]=+(i[6]+c);j[7]=+(i[7]+e);break;case "V":j[1]=+i[1]+e;break;case "H":j[1]=+i[1]+c;break;case "M":f=+i[1]+c;d=+i[2]+e;default:for(var k=1,m=i[q];k<m;k++)j[k]=+i[k]+(k%2?c:e)}}else{k=0;for(m=i[q];k<m;k++)b[g][k]=i[k]}switch(j[0]){case "Z":c=f;e=d;break;case "H":c=j[1];break;case "V":e=j[1];break;case "M":f=b[g][b[g][q]-2];d=b[g][b[g][q]-1];default:c=b[g][b[g][q]-2];e=b[g][b[g][q]-1]}}b[$]=l._path2string;return b},null,ra),ua=function(a,b,c,e){return[a,b,c,e,c,e]},Ta=function(a,b,c,e,f,d){var g=1/3,h=2/3;return[g*a+h*c,g*b+h*e,g*f+h*c,g*d+h*e,f,d]},Ua=function(a,b,c,e,f,d,g,h,j,i){var k=Q*120/180,m=Q/180*(+f||0),n=[],o,p=aa(function(H,G,J){var fa=H*y.cos(J)-G*y.sin(J);H=H*y.sin(J)+G*y.cos(J);return{x:fa,y:H}});if(i){s=i[0];o=i[1];d=i[2];w=i[3]}else{o=p(a,b,-m);a=o.x;b=o.y;o=p(h,j,-m);h=o.x;j=o.y;y.cos(Q/180*f);y.sin(Q/180*f);o=(a-h)/2;s=(b-j)/2;var r=o*o/(c*c)+s*s/(e*e);if(r>1){r=y.sqrt(r);c=r*c;e=r*e}r=c*c;w=e*e;r=(d==g?-1:1)*y.sqrt(M((r*w-r*s*s-w*o*o)/(r*s*s+w*o*o)));d=r*c*s/e+(a+h)/2;var w=r*-e*o/c+(b+j)/2,s=y.asin(((b-w)/e).toFixed(9));o=y.asin(((j-w)/e).toFixed(9));s=a<d?Q-s:s;o=h<d?Q-o:o;s<0&&(s=Q*2+s);o<0&&(o=Q*2+o);if(g&&s>o)s-=Q*2;if(!g&&o>s)o-=Q*2}r=o-s;if(M(r)>k){n=o;r=h;var F=j;o=s+k*(g&&o>s?1:-1);h=d+c*y.cos(o);j=w+e*y.sin(o);n=Ua(h,j,c,e,f,0,g,r,F,[o,n,d,w])}r=o-s;f=y.cos(s);k=y.sin(s);g=y.cos(o);o=y.sin(o);d=y.tan(r/4);c=4/3*c*d;d=4/3*e*d;e=[a,b];a=[a+c*k,b-d*f];b=[h+c*o,j-d*g];h=[h,j];a[0]=2*e[0]-a[0];a[1]=2*e[1]-a[1];if(i)return[a,b,h].concat(n);else{n=[a,b,h].concat(n)[O]().split(",");i=[];h=0;for(j=n[q];h<j;h++)i[h]=h%2?p(n[h-1],n[h],m).y:p(n[h],n[h+1],m).x;return i}},va=function(a,b,c,e,f,d,g,h,j){var i=1-j;return{x:E(i,3)*a+E(i,2)*3*j*c+i*3*j*j*f+E(j,3)*g,y:E(i,3)*b+E(i,2)*3*j*e+i*3*j*j*d+E(j,3)*h}},Bb=aa(function(a,b,c,e,f,d,g,h){var j=f-2*c+a-(g-2*f+c),i=2*(c-a)-2*(f-c),k=a-c,m=(-i+y.sqrt(i*i-4*j*k))/2/j;j=(-i-y.sqrt(i*i-4*j*k))/2/j;var n=[b,h],o=[a,g];M(m)>"1e12"&&(m=0.5);M(j)>"1e12"&&(j=0.5);if(m>0&&m<1){m=va(a,b,c,e,f,d,g,h,m);o[D](m.x);n[D](m.y)}if(j>0&&j<1){m=va(a,b,c,e,f,d,g,h,j);o[D](m.x);n[D](m.y)}j=d-2*e+b-(h-2*d+e);i=2*(e-b)-2*(d-e);k=b-e;m=(-i+y.sqrt(i*i-4*j*k))/2/j;j=(-i-y.sqrt(i*i-4*j*k))/2/j;M(m)>"1e12"&&(m=0.5);M(j)>"1e12"&&(j=0.5);if(m>0&&m<1){m=va(a,b,c,e,f,d,g,h,m);o[D](m.x);n[D](m.y)}if(j>0&&j<1){m=va(a,b,c,e,f,d,g,h,j);o[D](m.x);n[D](m.y)}return{min:{x:Z[K](0,o),y:Z[K](0,n)},max:{x:S[K](0,o),y:S[K](0,n)}}}),sa=aa(function(a,b){var c=ia(a),e=b&&ia(b);a={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null};b={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null};var f=function(o,p){var r;if(!o)return["C",p.x,p.y,p.x,p.y,p.x,p.y];!(o[0]in{T:1,Q:1})&&(p.qx=p.qy=null);switch(o[0]){case "M":p.X=o[1];p.Y=o[2];break;case "A":o=["C"].concat(Ua[K](0,[p.x,p.y].concat(o.slice(1))));break;case "S":r=p.x+(p.x-(p.bx||p.x));p=p.y+(p.y-(p.by||p.y));o=["C",r,p].concat(o.slice(1));break;case "T":p.qx=p.x+(p.x-(p.qx||p.x));p.qy=p.y+(p.y-(p.qy||p.y));o=["C"].concat(Ta(p.x,p.y,p.qx,p.qy,o[1],o[2]));break;case "Q":p.qx=o[1];p.qy=o[2];o=["C"].concat(Ta(p.x,p.y,o[1],o[2],o[3],o[4]));break;case "L":o=["C"].concat(ua(p.x,p.y,o[1],o[2]));break;case "H":o=["C"].concat(ua(p.x,p.y,o[1],p.y));break;case "V":o=["C"].concat(ua(p.x,p.y,p.x,o[1]));break;case "Z":o=["C"].concat(ua(p.x,p.y,p.X,p.Y));break}return o},d=function(o,p){if(o[p][q]>7){o[p].shift();for(var r=o[p];r[q];)o.splice(p++,0,["C"].concat(r.splice(0,6)));o.splice(p,1);j=S(c[q],e&&e[q]||0)}},g=function(o,p,r,w,s){if(o&&p&&o[s][0]=="M"&&p[s][0]!="M"){p.splice(s,0,["M",w.x,w.y]);r.bx=0;r.by=0;r.x=o[s][1];r.y=o[s][2];j=S(c[q],e&&e[q]||0)}},h=0,j=S(c[q],e&&e[q]||0);for(;h<j;h++){c[h]=f(c[h],a);d(c,h);e&&(e[h]=f(e[h],b));e&&d(e,h);g(c,e,a,b,h);g(e,c,b,a,h);var i=c[h],k=e&&e[h],m=i[q],n=e&&k[q];a.x=i[m-2];a.y=i[m-1];a.bx=x(i[m-4])||a.x;a.by=x(i[m-3])||a.y;b.bx=e&&(x(k[n-4])||b.x);b.by=e&&(x(k[n-3])||b.y);b.x=e&&k[n-2];b.y=e&&k[n-1]}return e?[c,e]:c},null,ra),Va=aa(function(a){for(var b=[],c=0,e=a[q];c<e;c++){var f={},d=a[c].match(/^([^:]*):?([\d\.]*)/);f.color=l.getRGB(d[1]);if(f.color.error)return null;f.color=f.color.hex;d[2]&&(f.offset=d[2]+"%");b[D](f)}c=1;for(e=b[q]-1;c<e;c++)if(!b[c].offset){a=x(b[c-1].offset||0);d=0;for(f=c+1;f<e;f++)if(b[f].offset){d=b[f].offset;break}if(!d){d=100;f=e}d=x(d);for(d=(d-a)/(f-c+1);c<f;c++){a+=d;b[c].offset=a+"%"}}return b}),Wa=function(a,b,c,e){if(l.is(a,"string")||l.is(a,"object")){a=l.is(a,"string")?v.getElementById(a):a;if(a.tagName)return b==null?{container:a,width:a.style.pixelWidth||a.offsetWidth,height:a.style.pixelHeight||a.offsetHeight}:{container:a,width:b,height:c}}else return{container:1,x:a,y:b,width:c,height:e}},Ga=function(a,b){var c=this;for(var e in b)if(b[u](e)&&!(e in a))switch(typeof b[e]){case "function":(function(f){a[e]=a===c?f:function(){return f[K](c,arguments)}})(b[e]);break;case "object":a[e]=a[e]||{};Ga.call(this,a[e],b[e]);break;default:a[e]=b[e];break}},ha=function(a,b){a==b.top&&(b.top=a.prev);a==b.bottom&&(b.bottom=a.next);a.next&&(a.next.prev=a.prev);a.prev&&(a.prev.next=a.next)},Xa=function(a,b){if(b.top!==a){ha(a,b);a.next=null;a.prev=b.top;b.top.next=a;b.top=a}},Ya=function(a,b){if(b.bottom!==a){ha(a,b);a.next=b.bottom;a.prev=null;b.bottom.prev=a;b.bottom=a}},Za=function(a,b,c){ha(a,c);b==c.top&&(c.top=a);b.next&&(b.next.prev=a);a.next=b.next;a.prev=b;b.next=a},$a=function(a,b,c){ha(a,c);b==c.bottom&&(c.bottom=a);b.prev&&(b.prev.next=a);a.prev=b.prev;b.prev=a;a.next=b},ab=function(a){return function(){throw new Error("Rapha\u00ebl: you are calling to method \u201c"+a+"\u201d of removed object");}};l.pathToRelative=Fa;if(l.svg){I.svgns="http://www.w3.org/2000/svg";I.xlink="http://www.w3.org/1999/xlink";P=function(a){return+a+(~~a===a)*0.5};var t=function(a,b){if(b)for(var c in b)b[u](c)&&a.setAttribute(c,z(b[c]));else{a=v.createElementNS(I.svgns,a);a.style.webkitTapHighlightColor="rgba(0,0,0,0)";return a}};l[$]=function(){return"Your browser supports SVG.\nYou are running Rapha\u00ebl "+this.version};var bb=function(a,b){var c=t("path");b.canvas&&b.canvas.appendChild(c);b=new C(c,b);b.type="path";da(b,{fill:"none",stroke:"#000",path:a});return b},ja=function(a,b,c){var e="linear",f=0.5,d=0.5,g=a.style;b=z(b).replace(Ra,function(k,m,n){e="radial";if(m&&n){f=x(m);d=x(n);k=(d>0.5)*2-1;E(f-0.5,2)+E(d-0.5,2)>0.25&&(d=y.sqrt(0.25-E(f-0.5,2))*k+0.5)&&d!=0.5&&(d=d.toFixed(5)-1.0E-5*k)}return""});b=b.split(/\s*\-\s*/);if(e=="linear"){var h=b.shift();h=-x(h);if(isNaN(h))return null;h=[0,0,y.cos(h*Q/180),y.sin(h*Q/180)];var j=1/(S(M(h[2]),M(h[3]))||1);h[2]*=j;h[3]*=j;if(h[2]<0){h[0]=-h[2];h[2]=0}if(h[3]<0){h[1]=-h[3];h[3]=0}}b=Va(b);if(!b)return null;j=a.getAttribute("fill");(j=j.match(/^url\(#(.*)\)$/))&&c.defs.removeChild(v.getElementById(j[1]));j=t(e+"Gradient");j.id=ma();t(j,e=="radial"?{fx:f,fy:d}:{x1:h[0],y1:h[1],x2:h[2],y2:h[3]});c.defs.appendChild(j);c=0;for(h=b[q];c<h;c++){var i=t("stop");t(i,{offset:b[c].offset?b[c].offset:!c?"0%":"100%","stop-color":b[c].color||"#fff"});j.appendChild(i)}t(a,{fill:"url(#"+j.id+")",opacity:1,"fill-opacity":1});g.fill="";g.opacity=1;return g.fillOpacity=1},Ha=function(a){var b=a.getBBox();t(a.pattern,{patternTransform:l.format("translate({0},{1})",b.x,b.y)})},da=function(a,b){var c={"":[0],none:[0],"-":[3,1],".":[1,1],"-.":[3,1,1,1],"-..":[3,1,1,1,1,1],". ":[1,3],"- ":[4,3],"--":[8,3],"- .":[4,3,1,3],"--.":[8,3,1,3],"--..":[8,3,1,3,1,3]},e=a.node,f=a.attrs,d=a.rotate(),g=function(p,r){if(r=c[ea.call(r)]){var w=p.attrs["stroke-width"]||"1";p={round:w,square:w,butt:0}[p.attrs["stroke-linecap"]||b["stroke-linecap"]]||0;for(var s=[],F=r[q];F--;)s[F]=r[F]*w+(F%2?1:-1)*p;t(e,{"stroke-dasharray":s[O](",")})}};b[u]("rotation")&&(d=b.rotation);var h=z(d).split(V);if(h.length-1){h[1]=+h[1];h[2]=+h[2]}else h=null;x(d)&&a.rotate(0,true);for(var j in b)if(b[u](j))if(pa[u](j)){var i=b[j];f[j]=i;switch(j){case "blur":a.blur(i);break;case "rotation":a.rotate(i,true);break;case "href":case "title":case "target":var k=e.parentNode;if(ea.call(k.tagName)!="a"){var m=t("a");k.insertBefore(m,e);m.appendChild(e);k=m}j=="target"&&i=="blank"?k.setAttributeNS(a.paper.xlink,"show","new"):k.setAttributeNS(a.paper.xlink,j,i);break;case "cursor":e.style.cursor=i;break;case "clip-rect":k=z(i).split(V);if(k[q]==4){a.clip&&a.clip.parentNode.parentNode.removeChild(a.clip.parentNode);var n=t("clipPath");m=t("rect");n.id=ma();t(m,{x:k[0],y:k[1],width:k[2],height:k[3]});n.appendChild(m);a.paper.defs.appendChild(n);t(e,{"clip-path":"url(#"+n.id+")"});a.clip=m}if(!i){(i=v.getElementById(e.getAttribute("clip-path").replace(/(^url\(#|\)$)/g,"")))&&i.parentNode.removeChild(i);t(e,{"clip-path":""});delete a.clip}break;case "path":if(a.type=="path")t(e,{d:i?(f.path=ia(i)):"M0,0"});break;case "width":e.setAttribute(j,i);if(f.fx){j="x";i=f.x}else break;case "x":if(f.fx)i=-f.x-(f.width||0);case "rx":if(j=="rx"&&a.type=="rect")break;case "cx":h&&(j=="x"||j=="cx")&&(h[1]+=i-f[j]);e.setAttribute(j,i);a.pattern&&Ha(a);break;case "height":e.setAttribute(j,i);if(f.fy){j="y";i=f.y}else break;case "y":if(f.fy)i=-f.y-(f.height||0);case "ry":if(j=="ry"&&a.type=="rect")break;case "cy":h&&(j=="y"||j=="cy")&&(h[2]+=i-f[j]);e.setAttribute(j,i);a.pattern&&Ha(a);break;case "r":a.type=="rect"?t(e,{rx:i,ry:i}):e.setAttribute(j,i);break;case "src":a.type=="image"&&e.setAttributeNS(a.paper.xlink,"href",i);break;case "stroke-width":e.style.strokeWidth=i;e.setAttribute(j,i);f["stroke-dasharray"]&&g(a,f["stroke-dasharray"]);break;case "stroke-dasharray":g(a,i);break;case "translation":i=z(i).split(V);i[0]=+i[0]||0;i[1]=+i[1]||0;if(h){h[1]+=i[0];h[2]+=i[1]}wa.call(a,i[0],i[1]);break;case "scale":i=z(i).split(V);a.scale(+i[0]||1,+i[1]||+i[0]||1,isNaN(x(i[2]))?null:+i[2],isNaN(x(i[3]))?null:+i[3]);break;case "fill":if(k=z(i).match(Qa)){n=t("pattern");var o=t("image");n.id=ma();t(n,{x:0,y:0,patternUnits:"userSpaceOnUse",height:1,width:1});t(o,{x:0,y:0});o.setAttributeNS(a.paper.xlink,"href",k[1]);n.appendChild(o);i=v.createElement("img");i.style.cssText="position:absolute;left:-9999em;top-9999em";i.onload=function(){t(n,{width:this.offsetWidth,height:this.offsetHeight});t(o,{width:this.offsetWidth,height:this.offsetHeight});v.body.removeChild(this);a.paper.safari()};v.body.appendChild(i);i.src=k[1];a.paper.defs.appendChild(n);e.style.fill="url(#"+n.id+")";t(e,{fill:"url(#"+n.id+")"});a.pattern=n;a.pattern&&Ha(a);break}k=l.getRGB(i);if(k.error){if(({circle:1,ellipse:1}[u](a.type)||z(i).charAt()!="r")&&ja(e,i,a.paper)){f.gradient=i;f.fill="none";break}}else{delete b.gradient;delete f.gradient;!l.is(f.opacity,"undefined")&&l.is(b.opacity,"undefined")&&t(e,{opacity:f.opacity});!l.is(f["fill-opacity"],"undefined")&&l.is(b["fill-opacity"],"undefined")&&t(e,{"fill-opacity":f["fill-opacity"]})}k[u]("opacity")&&t(e,{"fill-opacity":k.opacity>1?k.opacity/100:k.opacity});case "stroke":k=l.getRGB(i);e.setAttribute(j,k.hex);j=="stroke"&&k[u]("opacity")&&t(e,{"stroke-opacity":k.opacity>1?k.opacity/100:k.opacity});break;case "gradient":(({circle:1,ellipse:1})[u](a.type)||z(i).charAt()!="r")&&ja(e,i,a.paper);break;case "opacity":if(f.gradient&&!f[u]("stroke-opacity"))t(e,{"stroke-opacity":i>1?i/100:i});case "fill-opacity":if(f.gradient){if(k=v.getElementById(e.getAttribute("fill").replace(/^url\(#|\)$/g,""))){k=k.getElementsByTagName("stop");k[k[q]-1].setAttribute("stop-opacity",i)}break}default:j=="font-size"&&(i=ba(i,10)+"px");k=j.replace(/(\-.)/g,function(p){return oa.call(p.substring(1))});e.style[k]=i;e.setAttribute(j,i);break}}Cb(a,b);if(h)a.rotate(h.join(L));else x(d)&&a.rotate(d,true)},Cb=function(a,b){if(!(a.type!="text"||!(b[u]("text")||b[u]("font")||b[u]("font-size")||b[u]("x")||b[u]("y")))){var c=a.attrs,e=a.node,f=e.firstChild?ba(v.defaultView.getComputedStyle(e.firstChild,"").getPropertyValue("font-size"),10):10;if(b[u]("text")){for(c.text=b.text;e.firstChild;)e.removeChild(e.firstChild);b=z(b.text).split("\n");for(var d=0,g=b[q];d<g;d++)if(b[d]){var h=t("tspan");d&&t(h,{dy:f*1.2,x:c.x});h.appendChild(v.createTextNode(b[d]));e.appendChild(h)}}else{b=e.getElementsByTagName("tspan");d=0;for(g=b[q];d<g;d++)d&&t(b[d],{dy:f*1.2,x:c.x})}t(e,{y:c.y});a=a.getBBox();(a=c.y-(a.y+a.height/2))&&l.is(a,"finite")&&t(e,{y:c.y+a})}},C=function(a,b){this[0]=a;this.id=l._oid++;this.node=a;a.raphael=this;this.paper=b;this.attrs=this.attrs||{};this.transformations=[];this._={tx:0,ty:0,rt:{deg:0,cx:0,cy:0},sx:1,sy:1};!b.bottom&&(b.bottom=this);(this.prev=b.top)&&(b.top.next=this);b.top=this;this.next=null},A=C[B];C[B].rotate=function(a,b,c){if(this.removed)return this;if(a==null){if(this._.rt.cx)return[this._.rt.deg,this._.rt.cx,this._.rt.cy][O](L);return this._.rt.deg}var e=this.getBBox();a=z(a).split(V);if(a[q]-1){b=x(a[1]);c=x(a[2])}a=x(a[0]);if(b!=null&&b!==false)this._.rt.deg=a;else this._.rt.deg+=a;c==null&&(b=null);this._.rt.cx=b;this._.rt.cy=c;b=b==null?e.x+e.width/2:b;c=c==null?e.y+e.height/2:c;if(this._.rt.deg){this.transformations[0]=l.format("rotate({0} {1} {2})",this._.rt.deg,b,c);this.clip&&t(this.clip,{transform:l.format("rotate({0} {1} {2})",-this._.rt.deg,b,c)})}else{this.transformations[0]="";this.clip&&t(this.clip,{transform:""})}t(this.node,{transform:this.transformations[O](L)});return this};C[B].hide=function(){!this.removed&&(this.node.style.display="none");return this};C[B].show=function(){!this.removed&&(this.node.style.display="");return this};C[B].remove=function(){if(!this.removed){ha(this,this.paper);this.node.parentNode.removeChild(this.node);for(var a in this)delete this[a];this.removed=true}};C[B].getBBox=function(){if(this.removed)return this;if(this.type=="path")return ta(this.attrs.path);if(this.node.style.display=="none"){this.show();var a=true}var b={};try{b=this.node.getBBox()}catch(c){}finally{b=b||{}}if(this.type=="text"){b={x:b.x,y:Infinity,width:0,height:0};for(var e=0,f=this.node.getNumberOfChars();e<f;e++){var d=this.node.getExtentOfChar(e);d.y<b.y&&(b.y=d.y);d.y+d.height-b.y>b.height&&(b.height=d.y+d.height-b.y);d.x+d.width-b.x>b.width&&(b.width=d.x+d.width-b.x)}}a&&this.hide();return b};C[B].attr=function(a,b){if(this.removed)return this;if(a==null){a={};for(var c in this.attrs)if(this.attrs[u](c))a[c]=this.attrs[c];this._.rt.deg&&(a.rotation=this.rotate());(this._.sx!=1||this._.sy!=1)&&(a.scale=this.scale());a.gradient&&a.fill=="none"&&(a.fill=a.gradient)&&delete a.gradient;return a}if(b==null&&l.is(a,"string")){if(a=="translation")return wa.call(this);if(a=="rotation")return this.rotate();if(a=="scale")return this.scale();if(a=="fill"&&this.attrs.fill=="none"&&this.attrs.gradient)return this.attrs.gradient;return this.attrs[a]}if(b==null&&l.is(a,T)){c={};for(var e=0,f=a.length;e<f;e++)c[a[e]]=this.attr(a[e]);return c}if(b!=null){e={};e[a]=b}else if(a!=null&&l.is(a,"object"))e=a;for(f in this.paper.customAttributes)if(this.paper.customAttributes[u](f)&&e[u](f)&&l.is(this.paper.customAttributes[f],"function")){a=this.paper.customAttributes[f].apply(this,[].concat(e[f]));this.attrs[f]=e[f];for(var d in a)if(a[u](d))e[d]=a[d]}da(this,e);return this};C[B].toFront=function(){if(this.removed)return this;this.node.parentNode.appendChild(this.node);var a=this.paper;a.top!=this&&Xa(this,a);return this};C[B].toBack=function(){if(this.removed)return this;if(this.node.parentNode.firstChild!=this.node){this.node.parentNode.insertBefore(this.node,this.node.parentNode.firstChild);Ya(this,this.paper)}return this};C[B].insertAfter=function(a){if(this.removed)return this;var b=a.node||a[a.length-1].node;b.nextSibling?b.parentNode.insertBefore(this.node,b.nextSibling):b.parentNode.appendChild(this.node);Za(this,a,this.paper);return this};C[B].insertBefore=function(a){if(this.removed)return this;var b=a.node||a[0].node;b.parentNode.insertBefore(this.node,b);$a(this,a,this.paper);return this};C[B].blur=function(a){if(+a!==0){var b=t("filter"),c=t("feGaussianBlur");this.attrs.blur=a;b.id=ma();t(c,{stdDeviation:+a||1.5});b.appendChild(c);this.paper.defs.appendChild(b);this._blur=b;t(this.node,{filter:"url(#"+b.id+")"})}else{if(this._blur){this._blur.parentNode.removeChild(this._blur);delete this._blur;delete this.attrs.blur}this.node.removeAttribute("filter")}};var cb=function(a,b,c,e){var f=t("circle");a.canvas&&a.canvas.appendChild(f);a=new C(f,a);a.attrs={cx:b,cy:c,r:e,fill:"none",stroke:"#000"};a.type="circle";t(f,a.attrs);return a},db=function(a,b,c,e,f,d){var g=t("rect");a.canvas&&a.canvas.appendChild(g);a=new C(g,a);a.attrs={x:b,y:c,width:e,height:f,r:d||0,rx:d||0,ry:d||0,fill:"none",stroke:"#000"};a.type="rect";t(g,a.attrs);return a},eb=function(a,b,c,e,f){var d=t("ellipse");a.canvas&&a.canvas.appendChild(d);a=new C(d,a);a.attrs={cx:b,cy:c,rx:e,ry:f,fill:"none",stroke:"#000"};a.type="ellipse";t(d,a.attrs);return a},fb=function(a,b,c,e,f,d){var g=t("image");t(g,{x:c,y:e,width:f,height:d,preserveAspectRatio:"none"});g.setAttributeNS(a.xlink,"href",b);a.canvas&&a.canvas.appendChild(g);a=new C(g,a);a.attrs={x:c,y:e,width:f,height:d,src:b};a.type="image";return a},gb=function(a,b,c,e){var f=t("text");t(f,{x:b,y:c,"text-anchor":"middle"});a.canvas&&a.canvas.appendChild(f);a=new C(f,a);a.attrs={x:b,y:c,"text-anchor":"middle",text:e,font:pa.font,stroke:"none",fill:"#000"};a.type="text";da(a,a.attrs);return a},hb=function(a,b){this.width=a||this.width;this.height=b||this.height;this.canvas.setAttribute("width",this.width);this.canvas.setAttribute("height",this.height);return this},za=function(){var a=Wa[K](0,arguments),b=a&&a.container,c=a.x,e=a.y,f=a.width;a=a.height;if(!b)throw new Error("SVG container not found.");var d=t("svg");c=c||0;e=e||0;f=f||512;a=a||342;t(d,{xmlns:"http://www.w3.org/2000/svg",version:1.1,width:f,height:a});if(b==1){d.style.cssText="position:absolute;left:"+c+"px;top:"+e+"px";v.body.appendChild(d)}else b.firstChild?b.insertBefore(d,b.firstChild):b.appendChild(d);b=new na;b.width=f;b.height=a;b.canvas=d;Ga.call(b,b,l.fn);b.clear();return b};I.clear=function(){for(var a=this.canvas;a.firstChild;)a.removeChild(a.firstChild);this.bottom=this.top=null;(this.desc=t("desc")).appendChild(v.createTextNode("Created with Rapha\u00ebl"));a.appendChild(this.desc);a.appendChild(this.defs=t("defs"))};I.remove=function(){this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas);for(var a in this)this[a]=ab(a)}}if(l.vml){var ib={M:"m",L:"l",C:"c",Z:"x",m:"t",l:"r",c:"v",z:"x"},Db=/([clmz]),?([^clmz]*)/gi,Eb=/ progid:\S+Blur\([^\)]+\)/g,Fb=/-?[^,\s-]+/g,ka=1E3+L+1E3,la={path:1,rect:1},Gb=function(a){var b=/[ahqstv]/ig,c=ia;z(a).match(b)&&(c=sa);b=/[clmz]/g;if(c==ia&&!z(a).match(b))return a=z(a).replace(Db,function(j,i,k){var m=[],n=ea.call(i)=="m",o=ib[i];k.replace(Fb,function(p){if(n&&m[q]==2){o+=m+ib[i=="m"?"l":"L"];m=[]}m[D](P(p*10))});return o+m});b=c(a);var e;a=[];for(var f=0,d=b[q];f<d;f++){c=b[f];e=ea.call(b[f][0]);e=="z"&&(e="x");for(var g=1,h=c[q];g<h;g++)e+=P(c[g]*10)+(g!=h-1?",":"");a[D](e)}return a[O](L)};l[$]=function(){return"Your browser doesn\u2019t support SVG. Falling down to VML.\nYou are running Rapha\u00ebl "+this.version};bb=function(a,b){var c=R("group");c.style.cssText="position:absolute;left:0;top:0;width:"+b.width+"px;height:"+b.height+"px";c.coordsize=b.coordsize;c.coordorigin=b.coordorigin;var e=R("shape"),f=e.style;f.width=b.width+"px";f.height=b.height+"px";e.coordsize=ka;e.coordorigin=b.coordorigin;c.appendChild(e);e=new C(e,c,b);f={fill:"none",stroke:"#000"};a&&(f.path=a);e.type="path";e.path=[];e.Path="";da(e,f);b.canvas.appendChild(c);return e};da=function(a,b){a.attrs=a.attrs||{};var c=a.node,e=a.attrs,f=c.style,d;d=(b.x!=e.x||b.y!=e.y||b.width!=e.width||b.height!=e.height||b.r!=e.r)&&a.type=="rect";for(var g in b)if(b[u](g))e[g]=b[g];if(d){e.path=jb(e.x,e.y,e.width,e.height,e.r);a.X=e.x;a.Y=e.y;a.W=e.width;a.H=e.height}b.href&&(c.href=b.href);b.title&&(c.title=b.title);b.target&&(c.target=b.target);b.cursor&&(f.cursor=b.cursor);"blur"in b&&a.blur(b.blur);if(b.path&&a.type=="path"||d)c.path=Gb(e.path);b.rotation!=null&&a.rotate(b.rotation,true);if(b.translation){d=z(b.translation).split(V);wa.call(a,d[0],d[1]);if(a._.rt.cx!=null){a._.rt.cx+=+d[0];a._.rt.cy+=+d[1];a.setBox(a.attrs,d[0],d[1])}}if(b.scale){d=z(b.scale).split(V);a.scale(+d[0]||1,+d[1]||+d[0]||1,+d[2]||null,+d[3]||null)}if("clip-rect"in b){d=z(b["clip-rect"]).split(V);if(d[q]==4){d[2]=+d[2]+ +d[0];d[3]=+d[3]+ +d[1];g=c.clipRect||v.createElement("div");var h=g.style,j=c.parentNode;h.clip=l.format("rect({1}px {2}px {3}px {0}px)",d);if(!c.clipRect){h.position="absolute";h.top=0;h.left=0;h.width=a.paper.width+"px";h.height=a.paper.height+"px";j.parentNode.insertBefore(g,j);g.appendChild(j);c.clipRect=g}}if(!b["clip-rect"])c.clipRect&&(c.clipRect.style.clip="")}if(a.type=="image"&&b.src)c.src=b.src;if(a.type=="image"&&b.opacity){c.filterOpacity=" progid:DXImageTransform.Microsoft.Alpha(opacity="+b.opacity*100+")";f.filter=(c.filterMatrix||"")+(c.filterOpacity||"")}b.font&&(f.font=b.font);b["font-family"]&&(f.fontFamily='"'+b["font-family"].split(",")[0].replace(/^['"]+|['"]+$/g,"")+'"');b["font-size"]&&(f.fontSize=b["font-size"]);b["font-weight"]&&(f.fontWeight=b["font-weight"]);b["font-style"]&&(f.fontStyle=b["font-style"]);if(b.opacity!=null||b["stroke-width"]!=null||b.fill!=null||b.stroke!=null||b["stroke-width"]!=null||b["stroke-opacity"]!=null||b["fill-opacity"]!=null||b["stroke-dasharray"]!=null||b["stroke-miterlimit"]!=null||b["stroke-linejoin"]!=null||b["stroke-linecap"]!=null){c=a.shape||c;d=c.getElementsByTagName("fill")&&c.getElementsByTagName("fill")[0];g=false;!d&&(g=d=R("fill"));if("fill-opacity"in b||"opacity"in b){f=((+e["fill-opacity"]+1||2)-1)*((+e.opacity+1||2)-1)*((+l.getRGB(b.fill).o+1||2)-1);f=Z(S(f,0),1);d.opacity=f}b.fill&&(d.on=true);if(d.on==null||b.fill=="none")d.on=false;if(d.on&&b.fill)if(f=b.fill.match(Qa)){d.src=f[1];d.type="tile"}else{d.color=l.getRGB(b.fill).hex;d.src="";d.type="solid";if(l.getRGB(b.fill).error&&(a.type in{circle:1,ellipse:1}||z(b.fill).charAt()!="r")&&ja(a,b.fill)){e.fill="none";e.gradient=b.fill}}g&&c.appendChild(d);d=c.getElementsByTagName("stroke")&&c.getElementsByTagName("stroke")[0];g=false;!d&&(g=d=R("stroke"));if(b.stroke&&b.stroke!="none"||b["stroke-width"]||b["stroke-opacity"]!=null||b["stroke-dasharray"]||b["stroke-miterlimit"]||b["stroke-linejoin"]||b["stroke-linecap"])d.on=true;(b.stroke=="none"||d.on==null||b.stroke==0||b["stroke-width"]==0)&&(d.on=false);f=l.getRGB(b.stroke);d.on&&b.stroke&&(d.color=f.hex);f=((+e["stroke-opacity"]+1||2)-1)*((+e.opacity+1||2)-1)*((+f.o+1||2)-1);h=(x(b["stroke-width"])||1)*0.75;f=Z(S(f,0),1);b["stroke-width"]==null&&(h=e["stroke-width"]);b["stroke-width"]&&(d.weight=h);h&&h<1&&(f*=h)&&(d.weight=1);d.opacity=f;b["stroke-linejoin"]&&(d.joinstyle=b["stroke-linejoin"]||"miter");d.miterlimit=b["stroke-miterlimit"]||8;b["stroke-linecap"]&&(d.endcap=b["stroke-linecap"]=="butt"?"flat":b["stroke-linecap"]=="square"?"square":"round");if(b["stroke-dasharray"]){f={"-":"shortdash",".":"shortdot","-.":"shortdashdot","-..":"shortdashdotdot",". ":"dot","- ":"dash","--":"longdash","- .":"dashdot","--.":"longdashdot","--..":"longdashdotdot"};d.dashstyle=f[u](b["stroke-dasharray"])?f[b["stroke-dasharray"]]:""}g&&c.appendChild(d)}if(a.type=="text"){f=a.paper.span.style;e.font&&(f.font=e.font);e["font-family"]&&(f.fontFamily=e["font-family"]);e["font-size"]&&(f.fontSize=e["font-size"]);e["font-weight"]&&(f.fontWeight=e["font-weight"]);e["font-style"]&&(f.fontStyle=e["font-style"]);a.node.string&&(a.paper.span.innerHTML=z(a.node.string).replace(/</g,"&#60;").replace(/&/g,"&#38;").replace(/\n/g,"<br>"));a.W=e.w=a.paper.span.offsetWidth;a.H=e.h=a.paper.span.offsetHeight;a.X=e.x;a.Y=e.y+P(a.H/2);switch(e["text-anchor"]){case "start":a.node.style["v-text-align"]="left";a.bbx=P(a.W/2);break;case "end":a.node.style["v-text-align"]="right";a.bbx=-P(a.W/2);break;default:a.node.style["v-text-align"]="center";break}}};ja=function(a,b){a.attrs=a.attrs||{};var c="linear",e=".5 .5";a.attrs.gradient=b;b=z(b).replace(Ra,function(j,i,k){c="radial";if(i&&k){i=x(i);k=x(k);E(i-0.5,2)+E(k-0.5,2)>0.25&&(k=y.sqrt(0.25-E(i-0.5,2))*((k>0.5)*2-1)+0.5);e=i+L+k}return""});b=b.split(/\s*\-\s*/);if(c=="linear"){var f=b.shift();f=-x(f);if(isNaN(f))return null}var d=Va(b);if(!d)return null;a=a.shape||a.node;b=a.getElementsByTagName("fill")[0]||R("fill");!b.parentNode&&a.appendChild(b);if(d[q]){b.on=true;b.method="none";b.color=d[0].color;b.color2=d[d[q]-1].color;a=[];for(var g=0,h=d[q];g<h;g++)d[g].offset&&a[D](d[g].offset+L+d[g].color);b.colors&&(b.colors.value=a[q]?a[O]():"0% "+b.color);if(c=="radial"){b.type="gradientradial";b.focus="100%";b.focussize=e;b.focusposition=e}else{b.type="gradient";b.angle=(270-f)%360}}return 1};C=function(a,b,c){this[0]=a;this.id=l._oid++;this.node=a;a.raphael=this;this.Y=this.X=0;this.attrs={};this.Group=b;this.paper=c;this._={tx:0,ty:0,rt:{deg:0},sx:1,sy:1};!c.bottom&&(c.bottom=this);(this.prev=c.top)&&(c.top.next=this);c.top=this;this.next=null};A=C[B];A.rotate=function(a,b,c){if(this.removed)return this;if(a==null){if(this._.rt.cx)return[this._.rt.deg,this._.rt.cx,this._.rt.cy][O](L);return this._.rt.deg}a=z(a).split(V);if(a[q]-1){b=x(a[1]);c=x(a[2])}a=x(a[0]);if(b!=null)this._.rt.deg=a;else this._.rt.deg+=a;c==null&&(b=null);this._.rt.cx=b;this._.rt.cy=c;this.setBox(this.attrs,b,c);this.Group.style.rotation=this._.rt.deg;return this};A.setBox=function(a,b,c){if(this.removed)return this;var e=this.Group.style,f=this.shape&&this.shape.style||this.node.style;a=a||{};for(var d in a)if(a[u](d))this.attrs[d]=a[d];b=b||this._.rt.cx;c=c||this._.rt.cy;var g=this.attrs,h;switch(this.type){case "circle":a=g.cx-g.r;d=g.cy-g.r;h=g=g.r*2;break;case "ellipse":a=g.cx-g.rx;d=g.cy-g.ry;h=g.rx*2;g=g.ry*2;break;case "image":a=+g.x;d=+g.y;h=g.width||0;g=g.height||0;break;case "text":this.textpath.v=["m",P(g.x),", ",P(g.y-2),"l",P(g.x)+1,", ",P(g.y-2)][O]("");a=g.x-P(this.W/2);d=g.y-this.H/2;h=this.W;g=this.H;break;case "rect":case "path":if(this.attrs.path){g=ta(this.attrs.path);a=g.x;d=g.y;h=g.width;g=g.height}else{d=a=0;h=this.paper.width;g=this.paper.height}break;default:d=a=0;h=this.paper.width;g=this.paper.height;break}b=b==null?a+h/2:b;c=c==null?d+g/2:c;b=b-this.paper.width/2;c=c-this.paper.height/2;var j;e.left!=(j=b+"px")&&(e.left=j);e.top!=(j=c+"px")&&(e.top=j);this.X=la[u](this.type)?-b:a;this.Y=la[u](this.type)?-c:d;this.W=h;this.H=g;if(la[u](this.type)){f.left!=(j=-b*10+"px")&&(f.left=j);f.top!=(j=-c*10+"px")&&(f.top=j)}else if(this.type=="text"){f.left!=(j=-b+"px")&&(f.left=j);f.top!=(j=-c+"px")&&(f.top=j)}else{e.width!=(j=this.paper.width+"px")&&(e.width=j);e.height!=(j=this.paper.height+"px")&&(e.height=j);f.left!=(j=a-b+"px")&&(f.left=j);f.top!=(j=d-c+"px")&&(f.top=j);f.width!=(j=h+"px")&&(f.width=j);f.height!=(j=g+"px")&&(f.height=j)}};A.hide=function(){!this.removed&&(this.Group.style.display="none");return this};A.show=function(){!this.removed&&(this.Group.style.display="block");return this};A.getBBox=function(){if(this.removed)return this;if(la[u](this.type))return ta(this.attrs.path);return{x:this.X+(this.bbx||0),y:this.Y,width:this.W,height:this.H}};A.remove=function(){if(!this.removed){ha(this,this.paper);this.node.parentNode.removeChild(this.node);this.Group.parentNode.removeChild(this.Group);this.shape&&this.shape.parentNode.removeChild(this.shape);for(var a in this)delete this[a];this.removed=true}};A.attr=function(a,b){if(this.removed)return this;if(a==null){a={};for(var c in this.attrs)if(this.attrs[u](c))a[c]=this.attrs[c];this._.rt.deg&&(a.rotation=this.rotate());(this._.sx!=1||this._.sy!=1)&&(a.scale=this.scale());a.gradient&&a.fill=="none"&&(a.fill=a.gradient)&&delete a.gradient;return a}if(b==null&&l.is(a,"string")){if(a=="translation")return wa.call(this);if(a=="rotation")return this.rotate();if(a=="scale")return this.scale();if(a=="fill"&&this.attrs.fill=="none"&&this.attrs.gradient)return this.attrs.gradient;return this.attrs[a]}if(this.attrs&&b==null&&l.is(a,T)){var e,f={};c=0;for(e=a[q];c<e;c++)f[a[c]]=this.attr(a[c]);return f}if(b!=null){e={};e[a]=b}b==null&&l.is(a,"object")&&(e=a);if(e){for(f in this.paper.customAttributes)if(this.paper.customAttributes[u](f)&&e[u](f)&&l.is(this.paper.customAttributes[f],"function")){c=this.paper.customAttributes[f].apply(this,[].concat(e[f]));this.attrs[f]=e[f];for(var d in c)if(c[u](d))e[d]=c[d]}if(e.text&&this.type=="text")this.node.string=e.text;da(this,e);if(e.gradient&&({circle:1,ellipse:1}[u](this.type)||z(e.gradient).charAt()!="r"))ja(this,e.gradient);(!la[u](this.type)||this._.rt.deg)&&this.setBox(this.attrs)}return this};A.toFront=function(){!this.removed&&this.Group.parentNode.appendChild(this.Group);this.paper.top!=this&&Xa(this,this.paper);return this};A.toBack=function(){if(this.removed)return this;if(this.Group.parentNode.firstChild!=this.Group){this.Group.parentNode.insertBefore(this.Group,this.Group.parentNode.firstChild);Ya(this,this.paper)}return this};A.insertAfter=function(a){if(this.removed)return this;if(a.constructor==U)a=a[a.length-1];a.Group.nextSibling?a.Group.parentNode.insertBefore(this.Group,a.Group.nextSibling):a.Group.parentNode.appendChild(this.Group);Za(this,a,this.paper);return this};A.insertBefore=function(a){if(this.removed)return this;if(a.constructor==U)a=a[0];a.Group.parentNode.insertBefore(this.Group,a.Group);$a(this,a,this.paper);return this};A.blur=function(a){var b=this.node.runtimeStyle,c=b.filter;c=c.replace(Eb,"");if(+a!==0){this.attrs.blur=a;b.filter=c+L+" progid:DXImageTransform.Microsoft.Blur(pixelradius="+(+a||1.5)+")";b.margin=l.format("-{0}px 0 0 -{0}px",P(+a||1.5))}else{b.filter=c;b.margin=0;delete this.attrs.blur}};cb=function(a,b,c,e){var f=R("group"),d=R("oval");f.style.cssText="position:absolute;left:0;top:0;width:"+a.width+"px;height:"+a.height+"px";f.coordsize=ka;f.coordorigin=a.coordorigin;f.appendChild(d);d=new C(d,f,a);d.type="circle";da(d,{stroke:"#000",fill:"none"});d.attrs.cx=b;d.attrs.cy=c;d.attrs.r=e;d.setBox({x:b-e,y:c-e,width:e*2,height:e*2});a.canvas.appendChild(f);return d};var jb=function(a,b,c,e,f){return f?l.format("M{0},{1}l{2},0a{3},{3},0,0,1,{3},{3}l0,{5}a{3},{3},0,0,1,{4},{3}l{6},0a{3},{3},0,0,1,{4},{4}l0,{7}a{3},{3},0,0,1,{3},{4}z",a+f,b,c-f*2,f,-f,e-f*2,f*2-c,f*2-e):l.format("M{0},{1}l{2},0,0,{3},{4},0z",a,b,c,e,-c)};db=function(a,b,c,e,f,d){var g=jb(b,c,e,f,d);a=a.path(g);var h=a.attrs;a.X=h.x=b;a.Y=h.y=c;a.W=h.width=e;a.H=h.height=f;h.r=d;h.path=g;a.type="rect";return a};eb=function(a,b,c,e,f){var d=R("group"),g=R("oval");d.style.cssText="position:absolute;left:0;top:0;width:"+a.width+"px;height:"+a.height+"px";d.coordsize=ka;d.coordorigin=a.coordorigin;d.appendChild(g);g=new C(g,d,a);g.type="ellipse";da(g,{stroke:"#000"});g.attrs.cx=b;g.attrs.cy=c;g.attrs.rx=e;g.attrs.ry=f;g.setBox({x:b-e,y:c-f,width:e*2,height:f*2});a.canvas.appendChild(d);return g};fb=function(a,b,c,e,f,d){var g=R("group"),h=R("image");g.style.cssText="position:absolute;left:0;top:0;width:"+a.width+"px;height:"+a.height+"px";g.coordsize=ka;g.coordorigin=a.coordorigin;h.src=b;g.appendChild(h);h=new C(h,g,a);h.type="image";h.attrs.src=b;h.attrs.x=c;h.attrs.y=e;h.attrs.w=f;h.attrs.h=d;h.setBox({x:c,y:e,width:f,height:d});a.canvas.appendChild(g);return h};gb=function(a,b,c,e){var f=R("group"),d=R("shape"),g=d.style,h=R("path"),j=R("textpath");f.style.cssText="position:absolute;left:0;top:0;width:"+a.width+"px;height:"+a.height+"px";f.coordsize=ka;f.coordorigin=a.coordorigin;h.v=l.format("m{0},{1}l{2},{1}",P(b*10),P(c*10),P(b*10)+1);h.textpathok=true;g.width=a.width;g.height=a.height;j.string=z(e);j.on=true;d.appendChild(j);d.appendChild(h);f.appendChild(d);g=new C(j,f,a);g.shape=d;g.textpath=h;g.type="text";g.attrs.text=e;g.attrs.x=b;g.attrs.y=c;g.attrs.w=1;g.attrs.h=1;da(g,{font:pa.font,stroke:"none",fill:"#000"});g.setBox();a.canvas.appendChild(f);return g};hb=function(a,b){var c=this.canvas.style;a==+a&&(a+="px");b==+b&&(b+="px");c.width=a;c.height=b;c.clip="rect(0 "+a+" "+b+" 0)";return this};var R;v.createStyleSheet().addRule(".rvml","behavior:url(#default#VML)");try{!v.namespaces.rvml&&v.namespaces.add("rvml","urn:schemas-microsoft-com:vml");R=function(a){return v.createElement("<rvml:"+a+' class="rvml">')}}catch(Nb){R=function(a){return v.createElement("<"+a+' xmlns="urn:schemas-microsoft.com:vml" class="rvml">')}}za=function(){var a=Wa[K](0,arguments),b=a.container,c=a.height,e=a.width,f=a.x;a=a.y;if(!b)throw new Error("VML container not found.");var d=new na,g=d.canvas=v.createElement("div"),h=g.style;f=f||0;a=a||0;e=e||512;c=c||342;e==+e&&(e+="px");c==+c&&(c+="px");d.width=1E3;d.height=1E3;d.coordsize=1E4+L+1E4;d.coordorigin="0 0";d.span=v.createElement("span");d.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;display:inline;";g.appendChild(d.span);h.cssText=l.format("top:0;left:0;width:{0};height:{1};display:inline-block;position:relative;clip:rect(0 {0} {1} 0);overflow:hidden",e,c);if(b==1){v.body.appendChild(g);h.left=f+"px";h.top=a+"px";h.position="absolute"}else b.firstChild?b.insertBefore(g,b.firstChild):b.appendChild(g);Ga.call(d,d,l.fn);return d};I.clear=function(){this.canvas.innerHTML="";this.span=v.createElement("span");this.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;display:inline;";this.canvas.appendChild(this.span);this.bottom=this.top=null};I.remove=function(){this.canvas.parentNode.removeChild(this.canvas);for(var a in this)this[a]=ab(a);return true}}W=navigator.userAgent.match(/Version\/(.*?)\s/);I.safari=navigator.vendor=="Apple Computer, Inc."&&(W&&W[1]<4||navigator.platform.slice(0,2)=="iP")?function(){var a=this.rect(-99,-99,this.width+99,this.height+99).attr({stroke:"none"});ca.setTimeout(function(){a.remove()})}:function(){};var Hb=function(){this.returnValue=false},Ib=function(){return this.originalEvent.preventDefault()},Jb=function(){this.cancelBubble=true},Kb=function(){return this.originalEvent.stopPropagation()},Lb=function(){if(v.addEventListener)return function(a,b,c,e){var f=Ba&&Ca[b]?Ca[b]:b,d=function(g){if(Ba&&Ca[u](b))for(var h=0,j=g.targetTouches&&g.targetTouches.length;h<j;h++)if(g.targetTouches[h].target==a){j=g;g=g.targetTouches[h];g.originalEvent=j;g.preventDefault=Ib;g.stopPropagation=Kb;break}return c.call(e,g)};a.addEventListener(f,d,false);return function(){a.removeEventListener(f,d,false);return true}};else if(v.attachEvent)return function(a,b,c,e){var f=function(d){d=d||ca.event;d.preventDefault=d.preventDefault||Hb;d.stopPropagation=d.stopPropagation||Jb;return c.call(e,d)};a.attachEvent("on"+b,f);return function(){a.detachEvent("on"+b,f);return true}}}(),X=[],Ia=function(a){for(var b=a.clientX,c=a.clientY,e=v.documentElement.scrollTop||v.body.scrollTop,f=v.documentElement.scrollLeft||v.body.scrollLeft,d,g=X.length;g--;){d=X[g];if(Ba)for(var h=a.touches.length,j;h--;){j=a.touches[h];if(j.identifier==d.el._drag.id){b=j.clientX;c=j.clientY;(a.originalEvent?a.originalEvent:a).preventDefault();break}}else a.preventDefault();b+=f;c+=e;d.move&&d.move.call(d.move_scope||d.el,b-d.el._drag.x,c-d.el._drag.y,b,c,a)}},Ja=function(a){l.unmousemove(Ia).unmouseup(Ja);for(var b=X.length,c;b--;){c=X[b];c.el._drag={};c.end&&c.end.call(c.end_scope||c.start_scope||c.move_scope||c.el,a)}X=[]};for(W=ga[q];W--;)(function(a){l[a]=C[B][a]=function(b,c){if(l.is(b,"function")){this.events=this.events||[];this.events.push({name:a,f:b,unbind:Lb(this.shape||this.node||v,a,b,c||this)})}return this};l["un"+a]=C[B]["un"+a]=function(b){for(var c=this.events,e=c[q];e--;)if(c[e].name==a&&c[e].f==b){c[e].unbind();c.splice(e,1);!c.length&&delete this.events;return this}return this}})(ga[W]);A.hover=function(a,b,c,e){return this.mouseover(a,c).mouseout(b,e||c)};A.unhover=function(a,b){return this.unmouseover(a).unmouseout(b)};A.drag=function(a,b,c,e,f,d){this._drag={};this.mousedown(function(g){(g.originalEvent||g).preventDefault();var h=v.documentElement.scrollTop||v.body.scrollTop,j=v.documentElement.scrollLeft||v.body.scrollLeft;this._drag.x=g.clientX+j;this._drag.y=g.clientY+h;this._drag.id=g.identifier;b&&b.call(f||e||this,g.clientX+j,g.clientY+h,g);!X.length&&l.mousemove(Ia).mouseup(Ja);X.push({el:this,move:a,end:c,move_scope:e,start_scope:f,end_scope:d})});return this};A.undrag=function(a,b,c){for(b=X.length;b--;)X[b].el==this&&X[b].move==a&&X[b].end==c&&X.splice(b++,1);!X.length&&l.unmousemove(Ia).unmouseup(Ja)};I.circle=function(a,b,c){return cb(this,a||0,b||0,c||0)};I.rect=function(a,b,c,e,f){return db(this,a||0,b||0,c||0,e||0,f||0)};I.ellipse=function(a,b,c,e){return eb(this,a||0,b||0,c||0,e||0)};I.path=function(a){a&&!l.is(a,"string")&&!l.is(a[0],T)&&(a+="");return bb(l.format[K](l,arguments),this)};I.image=function(a,b,c,e,f){return fb(this,a||"about:blank",b||0,c||0,e||0,f||0)};I.text=function(a,b,c){return gb(this,a||0,b||0,z(c))};I.set=function(a){arguments[q]>1&&(a=Array[B].splice.call(arguments,0,arguments[q]));return new U(a)};I.setSize=hb;I.top=I.bottom=null;I.raphael=l;A.resetScale=function(){if(this.removed)return this;this._.sx=1;this._.sy=1;this.attrs.scale="1 1"};A.scale=function(a,b,c,e){if(this.removed)return this;if(a==null&&b==null)return{x:this._.sx,y:this._.sy,toString:Oa};b=b||a;!+b&&(b=a);var f,d,g=this.attrs;if(a!=0){var h=this.getBBox(),j=h.x+h.width/2,i=h.y+h.height/2;f=M(a/this._.sx);d=M(b/this._.sy);c=+c||c==0?c:j;e=+e||e==0?e:i;var k=this._.sx>0,m=this._.sy>0;h=~~(a/M(a));var n=~~(b/M(b)),o=f*h,p=d*n,r=this.node.style;j=c+M(j-c)*o*(j>c==k?1:-1);i=e+M(i-e)*p*(i>e==m?1:-1);var w=a*h>b*n?d:f;switch(this.type){case "rect":case "image":var s=g.width*f,F=g.height*d;this.attr({height:F,r:g.r*w,width:s,x:j-s/2,y:i-F/2});break;case "circle":case "ellipse":this.attr({rx:g.rx*f,ry:g.ry*d,r:g.r*w,cx:j,cy:i});break;case "text":this.attr({x:j,y:i});break;case "path":w=Fa(g.path);var H=true;k=k?o:f;m=m?p:d;p=0;for(o=w[q];p<o;p++){var G=w[p],J=oa.call(G[0]);if(!(J=="M"&&H)){H=false;if(J=="A"){G[w[p][q]-2]*=k;G[w[p][q]-1]*=m;G[1]*=f;G[2]*=d;G[5]=+(h+n?!!+G[5]:!+G[5])}else if(J=="H"){J=1;for(var fa=G[q];J<fa;J++)G[J]*=k}else if(J=="V"){J=1;for(fa=G[q];J<fa;J++)G[J]*=m}else{J=1;for(fa=G[q];J<fa;J++)G[J]*=J%2?k:m}}}d=ta(w);f=j-d.x-d.width/2;d=i-d.y-d.height/2;w[0][1]+=f;w[0][2]+=d;this.attr({path:w});break}if(this.type in{text:1,image:1}&&(h!=1||n!=1))if(this.transformations){this.transformations[2]="scale(".concat(h,",",n,")");this.node.setAttribute("transform",this.transformations[O](L));f=h==-1?-g.x-(s||0):g.x;d=n==-1?-g.y-(F||0):g.y;this.attr({x:f,y:d});g.fx=h-1;g.fy=n-1}else{this.node.filterMatrix=" progid:DXImageTransform.Microsoft"+".Matrix(M11=".concat(h,", M12=0, M21=0, M22=",n,", Dx=0, Dy=0, sizingmethod='auto expand', filtertype='bilinear')");r.filter=(this.node.filterMatrix||"")+(this.node.filterOpacity||"")}else if(this.transformations){this.transformations[2]="";this.node.setAttribute("transform",this.transformations[O](L));g.fx=0;g.fy=0}else{this.node.filterMatrix="";r.filter=(this.node.filterMatrix||"")+(this.node.filterOpacity||"")}g.scale=[a,b,c,e][O](L);this._.sx=a;this._.sy=b}return this};A.clone=function(){if(this.removed)return null;var a=this.attr();delete a.scale;delete a.translation;return this.paper[this.type]().attr(a)};var Ka={},xa=function(a,b,c,e,f,d,g,h,j){var i=0,k=100,m=[a,b,c,e,f,d,g,h].join(),n=Ka[m],o,p;!n&&(Ka[m]=n={data:[]});n.timer&&clearTimeout(n.timer);n.timer=setTimeout(function(){delete Ka[m]},2E3);if(j!=null)k=~~xa(a,b,c,e,f,d,g,h)*10;for(var r=0;r<k+1;r++){if(n.data[j]>r)p=n.data[r*k];else{p=l.findDotsAtSegment(a,b,c,e,f,d,g,h,r/k);n.data[r]=p}r&&(i+=E(E(o.x-p.x,2)+E(o.y-p.y,2),0.5));if(j!=null&&i>=j)return p;o=p}if(j==null)return i};ga=function(a,b){return function(c,e,f){c=sa(c);for(var d,g,h,j,i="",k={},m=0,n=0,o=c.length;n<o;n++){h=c[n];if(h[0]=="M"){d=+h[1];g=+h[2]}else{j=xa(d,g,h[1],h[2],h[3],h[4],h[5],h[6]);if(m+j>e){if(b&&!k.start){d=xa(d,g,h[1],h[2],h[3],h[4],h[5],h[6],e-m);i+=["C",d.start.x,d.start.y,d.m.x,d.m.y,d.x,d.y];if(f)return i;k.start=i;i=["M",d.x,d.y+"C",d.n.x,d.n.y,d.end.x,d.end.y,h[5],h[6]][O]();m+=j;d=+h[5];g=+h[6];continue}if(!a&&!b){d=xa(d,g,h[1],h[2],h[3],h[4],h[5],h[6],e-m);return{x:d.x,y:d.y,alpha:d.alpha}}}m+=j;d=+h[5];g=+h[6]}i+=h}k.end=i;d=a?m:b?k:l.findDotsAtSegment(d,g,h[1],h[2],h[3],h[4],h[5],h[6],1);d.alpha&&(d={x:d.x,y:d.y,alpha:d.alpha});return d}};var kb=ga(1),ya=ga(),La=ga(0,1);A.getTotalLength=function(){if(this.type=="path"){if(this.node.getTotalLength)return this.node.getTotalLength();return kb(this.attrs.path)}};A.getPointAtLength=function(a){if(this.type=="path")return ya(this.attrs.path,a)};A.getSubpath=function(a,b){if(this.type=="path"){if(M(this.getTotalLength()-b)<"1e-6")return La(this.attrs.path,a).end;b=La(this.attrs.path,b,1);return a?La(b,a).end:b}};l.easing_formulas={linear:function(a){return a},"<":function(a){return E(a,3)},">":function(a){return E(a-1,3)+1},"<>":function(a){a*=2;if(a<1)return E(a,3)/2;a-=2;return(E(a,3)+2)/2},backIn:function(a){return a*a*(2.70158*a-1.70158)},backOut:function(a){a-=1;return a*a*(2.70158*a+1.70158)+1},elastic:function(a){if(a==0||a==1)return a;return E(2,-10*a)*y.sin((a-0.075)*2*Q/0.3)+1},bounce:function(a){if(a<1/2.75)a=7.5625*a*a;else if(a<2/2.75){a-=1.5/2.75;a=7.5625*a*a+0.75}else if(a<2.5/2.75){a-=2.25/2.75;a=7.5625*a*a+0.9375}else{a-=2.625/2.75;a=7.5625*a*a+0.984375}return a}};var Y=[],lb=function(){for(var a=+new Date,b=0;b<Y[q];b++){var c=Y[b];if(!(c.stop||c.el.removed)){var e=a-c.start,f=c.ms,d=c.easing,g=c.from,h=c.diff,j=c.to,i=c.t,k=c.el;c={};var m;if(e<f){e=d(e/f);for(var n in g)if(g[u](n)){switch(Da[n]){case "along":m=e*f*h[n];j.back&&(m=j.len-m);d=ya(j[n],m);k.translate(h.sx-h.x||0,h.sy-h.y||0);h.x=d.x;h.y=d.y;k.translate(d.x-h.sx,d.y-h.sy);j.rot&&k.rotate(h.r+d.alpha,d.x,d.y);break;case N:m=+g[n]+e*f*h[n];break;case "colour":m="rgb("+[Ma(P(g[n].r+e*f*h[n].r)),Ma(P(g[n].g+e*f*h[n].g)),Ma(P(g[n].b+e*f*h[n].b))][O](",")+")";break;case "path":m=[];d=0;for(var o=g[n][q];d<o;d++){m[d]=[g[n][d][0]];for(var p=1,r=g[n][d][q];p<r;p++)m[d][p]=+g[n][d][p]+e*f*h[n][d][p];m[d]=m[d][O](L)}m=m[O](L);break;case "csv":switch(n){case "translation":m=e*f*h[n][0]-i.x;d=e*f*h[n][1]-i.y;i.x+=m;i.y+=d;m=m+L+d;break;case "rotation":m=+g[n][0]+e*f*h[n][0];g[n][1]&&(m+=","+g[n][1]+","+g[n][2]);break;case "scale":m=[+g[n][0]+e*f*h[n][0],+g[n][1]+e*f*h[n][1],2 in j[n]?j[n][2]:"",3 in j[n]?j[n][3]:""][O](L);break;case "clip-rect":m=[];for(d=4;d--;)m[d]=+g[n][d]+e*f*h[n][d];break}break;default:o=[].concat(g[n]);m=[];for(d=k.paper.customAttributes[n].length;d--;)m[d]=+o[d]+e*f*h[n][d];break}c[n]=m}k.attr(c);k._run&&k._run.call(k)}else{if(j.along){d=ya(j.along,j.len*!j.back);k.translate(h.sx-(h.x||0)+d.x-h.sx,h.sy-(h.y||0)+d.y-h.sy);j.rot&&k.rotate(h.r+d.alpha,d.x,d.y)}(i.x||i.y)&&k.translate(-i.x,-i.y);j.scale&&(j.scale+="");k.attr(j);Y.splice(b--,1)}}}l.svg&&k&&k.paper&&k.paper.safari();Y[q]&&setTimeout(lb)},Mb=function(a,b,c,e,f){var d=c-e;b.timeouts.push(setTimeout(function(){l.is(f,"function")&&f.call(b);b.animate(a,d,a.easing)},e))},Ma=function(a){return S(Z(a,255),0)},wa=function(a,b){if(a==null)return{x:this._.tx,y:this._.ty,toString:Oa};this._.tx+=+a;this._.ty+=+b;switch(this.type){case "circle":case "ellipse":this.attr({cx:+a+this.attrs.cx,cy:+b+this.attrs.cy});break;case "rect":case "image":case "text":this.attr({x:+a+this.attrs.x,y:+b+this.attrs.y});break;case "path":var c=Fa(this.attrs.path);c[0][1]+=+a;c[0][2]+=+b;this.attr({path:c});break}return this};A.animateWith=function(a,b,c,e,f){for(var d=0,g=Y.length;d<g;d++)if(Y[d].el.id==a.id)b.start=Y[d].start;return this.animate(b,c,e,f)};A.animateAlong=Pa();A.animateAlongBack=Pa(1);A.onAnimation=function(a){this._run=a||0;return this};A.animate=function(a,b,c,e){var f=this;f.timeouts=f.timeouts||[];if(l.is(c,"function")||!c)e=c||null;if(f.removed){e&&e.call(f);return f}var d={},g={},h=false,j={};for(var i in a)if(a[u](i))if(Da[u](i)||f.paper.customAttributes[u](i)){h=true;d[i]=f.attr(i);d[i]==null&&(d[i]=pa[i]);g[i]=a[i];switch(Da[i]){case "along":var k=kb(a[i]),m=ya(a[i],k*!!a.back),n=f.getBBox();j[i]=k/b;j.tx=n.x;j.ty=n.y;j.sx=m.x;j.sy=m.y;g.rot=a.rot;g.back=a.back;g.len=k;a.rot&&(j.r=x(f.rotate())||0);break;case N:j[i]=(g[i]-d[i])/b;break;case "colour":d[i]=l.getRGB(d[i]);k=l.getRGB(g[i]);j[i]={r:(k.r-d[i].r)/b,g:(k.g-d[i].g)/b,b:(k.b-d[i].b)/b};break;case "path":k=sa(d[i],g[i]);d[i]=k[0];n=k[1];j[i]=[];k=0;for(m=d[i][q];k<m;k++){j[i][k]=[0];for(var o=1,p=d[i][k][q];o<p;o++)j[i][k][o]=(n[k][o]-d[i][k][o])/b}break;case "csv":m=z(a[i]).split(V);n=z(d[i]).split(V);switch(i){case "translation":d[i]=[0,0];j[i]=[m[0]/b,m[1]/b];break;case "rotation":d[i]=n[1]==m[1]&&n[2]==m[2]?n:[0,m[1],m[2]];j[i]=[(m[0]-d[i][0])/b,0,0];break;case "scale":a[i]=m;d[i]=z(d[i]).split(V);j[i]=[(m[0]-d[i][0])/b,(m[1]-d[i][1])/b,0,0];break;case "clip-rect":d[i]=z(d[i]).split(V);j[i]=[];for(k=4;k--;)j[i][k]=(m[k]-d[i][k])/b;break}g[i]=m;break;default:m=[].concat(a[i]);n=[].concat(d[i]);j[i]=[];for(k=f.paper.customAttributes[i][q];k--;)j[i][k]=((m[k]||0)-(n[k]||0))/b;break}}if(h){i=l.easing_formulas[c];if(!i)if((i=z(c).match(sb))&&i[q]==5){var r=i;i=function(F){return nb(F,+r[1],+r[2],+r[3],+r[4],b)}}else i=function(F){return F};Y.push({start:a.start||+new Date,ms:b,easing:i,from:d,diff:j,to:g,el:f,t:{x:0,y:0}});l.is(e,"function")&&(f._ac=setTimeout(function(){e.call(f)},b));Y[q]==1&&setTimeout(lb)}else{c=[];var w;for(var s in a)if(a[u](s)&&tb.test(s)){i={value:a[s]};s=="from"&&(s=0);s=="to"&&(s=100);i.key=ba(s,10);c.push(i)}c.sort(yb);c[0].key&&c.unshift({key:0,value:f.attrs});k=0;for(m=c[q];k<m;k++)Mb(c[k].value,f,b/100*c[k].key,b/100*(c[k-1]&&c[k-1].key||0),c[k-1]&&c[k-1].value.callback);(w=c[c[q]-1].value.callback)&&f.timeouts.push(setTimeout(function(){w.call(f)},b))}return this};A.stop=function(){for(var a=0;a<Y.length;a++)Y[a].el.id==this.id&&Y.splice(a--,1);a=0;for(ii=this.timeouts&&this.timeouts.length;a<ii;a++)clearTimeout(this.timeouts[a]);this.timeouts=[];clearTimeout(this._ac);delete this._ac;return this};A.translate=function(a,b){return this.attr({translation:a+" "+b})};A[$]=function(){return"Rapha\u00ebl\u2019s object"};l.ae=Y;var U=function(a){this.items=[];this[q]=0;this.type="set";if(a)for(var b=0,c=a[q];b<c;b++)if(a[b]&&(a[b].constructor==C||a[b].constructor==U)){this[this.items[q]]=this.items[this.items[q]]=a[b];this[q]++}};U[B][D]=function(){for(var a,b,c=0,e=arguments[q];c<e;c++)if((a=arguments[c])&&(a.constructor==C||a.constructor==U)){b=this.items[q];this[b]=this.items[b]=a;this[q]++}return this};U[B].pop=function(){delete this[this[q]--];return this.items.pop()};for(var Na in A)if(A[u](Na))U[B][Na]=function(a){return function(){for(var b=0,c=this.items[q];b<c;b++)this.items[b][a][K](this.items[b],arguments);return this}}(Na);U[B].attr=function(a,b){if(a&&l.is(a,T)&&l.is(a[0],"object")){b=0;for(var c=a[q];b<c;b++)this.items[b].attr(a[b])}else{c=0;for(var e=this.items[q];c<e;c++)this.items[c].attr(a,b)}return this};U[B].animate=function(a,b,c,e){(l.is(c,"function")||!c)&&(e=c||null);var f=this.items[q],d=f,g,h=this,j;e&&(j=function(){!--f&&e.call(h)});c=l.is(c,"string")?c:j;for(g=this.items[--d].animate(a,b,c,j);d--;)this.items[d]&&!this.items[d].removed&&this.items[d].animateWith(g,a,b,c,j);return this};U[B].insertAfter=function(a){for(var b=this.items[q];b--;)this.items[b].insertAfter(a);return this};U[B].getBBox=function(){for(var a=[],b=[],c=[],e=[],f=this.items[q];f--;){var d=this.items[f].getBBox();a[D](d.x);b[D](d.y);c[D](d.x+d.width);e[D](d.y+d.height)}a=Z[K](0,a);b=Z[K](0,b);return{x:a,y:b,width:S[K](0,c)-a,height:S[K](0,e)-b}};U[B].clone=function(a){a=new U;for(var b=0,c=this.items[q];b<c;b++)a[D](this.items[b].clone());return a};l.registerFont=function(a){if(!a.face)return a;this.fonts=this.fonts||{};var b={w:a.w,face:{},glyphs:{}},c=a.face["font-family"];for(var e in a.face)if(a.face[u](e))b.face[e]=a.face[e];if(this.fonts[c])this.fonts[c][D](b);else this.fonts[c]=[b];if(!a.svg){b.face["units-per-em"]=ba(a.face["units-per-em"],10);for(var f in a.glyphs)if(a.glyphs[u](f)){c=a.glyphs[f];b.glyphs[f]={w:c.w,k:{},d:c.d&&"M"+c.d.replace(/[mlcxtrv]/g,function(g){return{l:"L",c:"C",x:"z",t:"m",r:"l",v:"c"}[g]||"M"})+"z"};if(c.k)for(var d in c.k)if(c[u](d))b.glyphs[f].k[d]=c.k[d]}}return a};I.getFont=function(a,b,c,e){e=e||"normal";c=c||"normal";b=+b||{normal:400,bold:700,lighter:300,bolder:800}[b]||400;if(l.fonts){var f=l.fonts[a];if(!f){a=new RegExp("(^|\\s)"+a.replace(/[^\w\d\s+!~.:_-]/g,"")+"(\\s|$)","i");for(var d in l.fonts)if(l.fonts[u](d))if(a.test(d)){f=l.fonts[d];break}}var g;if(f){d=0;for(a=f[q];d<a;d++){g=f[d];if(g.face["font-weight"]==b&&(g.face["font-style"]==c||!g.face["font-style"])&&g.face["font-stretch"]==e)break}}return g}};I.print=function(a,b,c,e,f,d,g){d=d||"middle";g=S(Z(g||0,1),-1);var h=this.set(),j=z(c).split(""),i=0;l.is(e,c)&&(e=this.getFont(e));if(e){c=(f||16)/e.face["units-per-em"];var k=e.face.bbox.split(V);f=+k[0];d=+k[1]+(d=="baseline"?k[3]-k[1]+ +e.face.descent:(k[3]-k[1])/2);k=0;for(var m=j[q];k<m;k++){var n=k&&e.glyphs[j[k-1]]||{},o=e.glyphs[j[k]];i+=k?(n.w||e.w)+(n.k&&n.k[j[k]]||0)+e.w*g:0;o&&o.d&&h[D](this.path(o.d).attr({fill:"#000",stroke:"none",translation:[i,0]}))}h.scale(c,c,f,d).translate(a-f,b-d)}return h};l.format=function(a,b){var c=l.is(b,T)?[0].concat(b):arguments;a&&l.is(a,"string")&&c[q]-1&&(a=a.replace(ob,function(e,f){return c[++f]==null?"":c[f]}));return a||""};l.ninja=function(){Aa.was?(ca.Raphael=Aa.is):delete Raphael;return l};l.el=A;l.st=U[B];Aa.was?(ca.Raphael=l):(Raphael=l)})();